{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// main.js\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Отримання елементів сторінки за їх ідентифікаторами\nconst searchForm = document.getElementById(\"searchForm\");\nconst searchInput = document.getElementById(\"searchInput\");\nconst gallery = document.getElementById(\"gallery\");\n\n// Ключ та базова URL для доступу до API Pixabay\nconst apiKey = \"41962828-ff4c1ad2c8e7f95d6127e6141\";\nconst baseUrl = \"https://pixabay.com/api/\";\n\n// Функція для показу loader\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  document.body.appendChild(loader); // Додаємо loader до body\n};\n\n// Функція для приховання loader\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\n// Ініціалізація SimpleLightbox з налаштуваннями\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'title',\n    captionPosition: 'bottom',\n    animationSlide: false,\n});\n\n// Функція для відображення повідомлення про завантаження\nfunction showLoadingNotification() {\n  iziToast.info({\n    title: \"Info\",\n    message: \"Loading...\",\n    position: \"topCenter\",\n    timeout: 2000,\n  });\n}\n\n// Обробник події для форми пошуку\nsearchForm.addEventListener(\"submit\", async function (e) {\n    e.preventDefault();\n    const searchTerm = searchInput.value.trim();\n\n    if (searchTerm === \"\") {\n        iziToast.error({ title: \"Error\", message: \"Please enter a search term\" });\n        return;\n    }\n\n    try {\n        showLoadingNotification();\n        showLoader();\n\n        // Запит до API Pixabay для отримання зображень\n        const response = await fetch(`${baseUrl}?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`);\n        const data = await response.json();\n\n        hideLoader();\n\n        if (data.hits.length === 0) {\n            iziToast.info({ title: \"Info\", message: \"Sorry, there are no images matching your search query. Please try again!\" });\n        } else {\n            // Вивід зображень та інформації про них у галереї\n            gallery.innerHTML = \"\";\n\n            data.hits.forEach(image => {\n                const imageLink = document.createElement(\"a\");\n                imageLink.href = image.largeImageURL;\n\n                const imgElement = document.createElement(\"img\");\n                imgElement.src = image.webformatURL;\n                imgElement.alt = image.tags;\n                imgElement.title = `${image.tags}`;\n\n                const detailsContainer = document.createElement(\"div\");\n                detailsContainer.classList.add(\"image-details\");\n\n                const likesElement = document.createElement(\"p\");\n                likesElement.textContent = `Likes: ${image.likes}`;\n\n                const viewsElement = document.createElement(\"p\");\n                viewsElement.textContent = `Views: ${image.views}`;\n\n                const commentsElement = document.createElement(\"p\");\n                commentsElement.textContent = `Comments: ${image.comments}`;\n\n                const downloadsElement = document.createElement(\"p\");\n                downloadsElement.textContent = `Downloads: ${image.downloads}`;\n\n                detailsContainer.appendChild(likesElement);\n                detailsContainer.appendChild(viewsElement);\n                detailsContainer.appendChild(commentsElement);\n                detailsContainer.appendChild(downloadsElement);\n\n                imageLink.appendChild(imgElement);\n                imageLink.appendChild(detailsContainer);\n                gallery.appendChild(imageLink);\n            });\n\n            lightbox.refresh();\n        }\n    } catch (error) {\n        hideLoader();\n        iziToast.error({ title: \"Error\", message: \"An error occurred while fetching images. Please try again later.\" });\n        console.error(\"Error fetching images:\", error);\n    }\n});\n"],"names":["searchForm","searchInput","gallery","apiKey","baseUrl","showLoader","loader","hideLoader","lightbox","SimpleLightbox","showLoadingNotification","iziToast","e","searchTerm","data","image","imageLink","imgElement","detailsContainer","likesElement","viewsElement","commentsElement","downloadsElement","error"],"mappings":"6vBAOA,MAAMA,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAU,SAAS,eAAe,SAAS,EAG3CC,EAAS,qCACTC,EAAU,2BAGVC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,SAAS,KAAK,YAAYA,CAAM,CAClC,EAGMC,EAAa,IAAM,CACvB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,EAGME,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,QACd,gBAAiB,SACjB,eAAgB,EACpB,CAAC,EAGD,SAASC,GAA0B,CACjCC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,aACT,SAAU,YACV,QAAS,GACb,CAAG,CACH,CAGAX,EAAW,iBAAiB,SAAU,eAAgBY,EAAG,CACrDA,EAAE,eAAc,EAChB,MAAMC,EAAaZ,EAAY,MAAM,KAAI,EAEzC,GAAIY,IAAe,GAAI,CACnBF,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,4BAA4B,CAAE,EACxE,MACH,CAED,GAAI,CACAD,IACAL,IAIA,MAAMS,EAAO,MADI,MAAM,MAAM,GAAGV,SAAeD,OAAYU,2DAAoE,GACnG,OAE5BN,IAEIO,EAAK,KAAK,SAAW,EACrBH,EAAS,KAAK,CAAE,MAAO,OAAQ,QAAS,0EAA0E,CAAE,GAGpHT,EAAQ,UAAY,GAEpBY,EAAK,KAAK,QAAQC,GAAS,CACvB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,KAAOD,EAAM,cAEvB,MAAME,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAM,aACvBE,EAAW,IAAMF,EAAM,KACvBE,EAAW,MAAQ,GAAGF,EAAM,OAE5B,MAAMG,EAAmB,SAAS,cAAc,KAAK,EACrDA,EAAiB,UAAU,IAAI,eAAe,EAE9C,MAAMC,EAAe,SAAS,cAAc,GAAG,EAC/CA,EAAa,YAAc,UAAUJ,EAAM,QAE3C,MAAMK,EAAe,SAAS,cAAc,GAAG,EAC/CA,EAAa,YAAc,UAAUL,EAAM,QAE3C,MAAMM,EAAkB,SAAS,cAAc,GAAG,EAClDA,EAAgB,YAAc,aAAaN,EAAM,WAEjD,MAAMO,EAAmB,SAAS,cAAc,GAAG,EACnDA,EAAiB,YAAc,cAAcP,EAAM,YAEnDG,EAAiB,YAAYC,CAAY,EACzCD,EAAiB,YAAYE,CAAY,EACzCF,EAAiB,YAAYG,CAAe,EAC5CH,EAAiB,YAAYI,CAAgB,EAE7CN,EAAU,YAAYC,CAAU,EAChCD,EAAU,YAAYE,CAAgB,EACtChB,EAAQ,YAAYc,CAAS,CAC7C,CAAa,EAEDR,EAAS,QAAO,EAEvB,OAAQe,EAAP,CACEhB,IACAI,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,kEAAkE,CAAE,EAC9G,QAAQ,MAAM,yBAA0BY,CAAK,CAChD,CACL,CAAC"}